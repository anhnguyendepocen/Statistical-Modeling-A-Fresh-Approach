<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Stats 155 Class Notes 2012-10-01</title>

<base target="_blank"/>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
}

pre code {
   display: block; padding: 0.5em;
}

code.r {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>


<!-- MathJax scripts -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



</head>

<body>
<h1>Stats 155 Class Notes 2012-10-01</h1>

<h2>Where We Are</h2>

<ol>
<li>You know how to construct a linear model by choosing a response variable (always quantitative at this point in the course) and explanatory variables.</li>
<li>You might or might not yet be comfortable with the idea of interaction terms.  If you are, you may be thinking, &ldquo;Why not always just put the interaction terms in a model?  What&#39;s the disadvantage?&rdquo;</li>
<li>You know what fitted model values are, what residuals are, that the model coefficients (parameters) are found by making the residuals as small as possible in two senses: 

<ol>
<li>Making the bias zero, that is, the average value of the residuals zero.  This can always be done!</li>
<li>Making the variance as small as possible. You can&#39;t generally make the variance zero.  In real data, it&#39;s extremely rare to get a residual variance of zero.  It&#39;s actually a forensic sign that the data are made up.</li>
</ol></li>
<li>You have various technical skills, e.g. plotting out the fitted model values over the actual data, finding confidence intervals on model coefficients, etc.</li>
</ol>

<h2>Where We Are Heading</h2>

<p>Although you can make models of considerable complexity, there are some gaps or deficiencies in the story:</p>

<ol>
<li>You don&#39;t yet have a way to decide how much complexity is appropriate.</li>
<li>You may well be confused by how the parameters change as you add or subtract terms from the model.  This may well seem arbitrary to you at this point.</li>
<li>It still seems a bit complicated to interpret complex models in terms of the effect size.  With interaction terms, the &ldquo;effect&rdquo; of a variable can be spread around several terms in the model.</li>
</ol>

<p>We need to fix these deficiencies.  It will take a while.</p>

<p>This week, we&#39;ll be working with three main ideas:</p>

<ol>
<li>Colinearity.</li>
<li>Redundancy (which is the extreme state of colinearity)</li>
<li>Measuring how much of the variation in response values a model has captured.  (You may already know that \( R^2 \) does this, but it helps to know why it&#39;s even possible to do at all.)</li>
</ol>

<p>The tool that we will use to explore these ideas is geometry.  Some people will find that this immediately illuminates what&#39;s going on.  Some people will not find it helpful at all.  I don&#39;t know why there are such different reactions from different people.  I encourage you to keep an open mind as we talk about geometry.  The worst case is that you will spend a couple of hours (spread over the next weeks) that won&#39;t lead anywhere for you.  That&#39;s not too big a bet to place on the possibility that you may find it truly useful, as many people do.</p>

<h2>Two Technical Ideas</h2>

<h3>1. Representation of categorical variables</h3>

<p>Using indicator variables.  The 0-1 encoding.   Economists and many others call these &ldquo;dummy variables&rdquo;.  That&#39;s fine and you&#39;re welcome to use that phrase.  But it seems a bit pejorative.</p>

<ul>
<li>Each categorical variable has a set of indicator variables, one for each level of the categorical variable.</li>
<li>Each case will have a 1 in one, and only one, of the indicator variables for a given categorical variable.  This says nothing more than &ldquo;each case has one, and only one, level of the variable.&rdquo;</li>
</ul>

<h3>2. Relationships among Resids, Fitted, and Response</h3>

<p>There&#39;s a funny pattern with the residuals, fitted model values, and response variable.  Actually, two patterns, one of which is obviously a result of definition, but the other isn&#39;t.</p>

<h4>Pattern one (trivial).</h4>

<p>The response variable is the sum of the fitted model values and the residuals.  That&#39;s just another way of saying that the residuals are the difference between the response variable and the fitted model values.  No big deal.</p>

<h5>Computational demonstration.</h5>

<p>Have the students do this themselves.<br/>
1. Pick some data set along with a response variable and one or more explanatory variables.  I&#39;ll use my favorite: <code>KidsFeet</code>  (I like this one because it&#39;s small, and it&#39;s practical to look at the individual fitted model values and residuals.)<br/>
2. Pick some model on that dataset.  Here&#39;s mine:</p>

<pre><code class="r">mod = lm(width ~ length * sex + domhand, data = KidsFeet)
</code></pre>

<ol>
<li>Add up the fitted model values and residuals from the model:</li>
</ol>

<pre><code class="r">together = fitted(mod) + resid(mod)
</code></pre>

<ol>
<li>Show that, for every case, <code>together</code> is the same as the response variable.  Here&#39;s one way that involves a command that you won&#39;t need in this course, <code>cbind</code>, which takes two vectors of numbers and puts them side by side:</li>
</ol>

<pre><code class="r">head(with(KidsFeet, cbind(width, together)))
</code></pre>

<pre><code>##   width together
## 1   8.4      8.4
## 2   8.8      8.8
## 3   9.7      9.7
## 4   9.8      9.8
## 5   8.9      8.9
## 6   9.7      9.7
</code></pre>

<p>Here&#39;s another way: subtract the sum from the response variable and show that the result is always zero:</p>

<pre><code class="r">head(with(KidsFeet, width - together))
</code></pre>

<pre><code>## 1 2 3 4 5 6 
## 0 0 0 0 0 0 
</code></pre>

<p>This is not practical when you have a data set of any substantial length.  Here&#39;s a trick.  Square the differences and add them up.  This will be zero only if each and every case has a value of zero:</p>

<pre><code class="r">sum(with(KidsFeet, width - together)^2)
</code></pre>

<pre><code>## [1] 3.155e-30
</code></pre>

<p>This relationship between the fitted model values, the residuals, and the response variable will be true for every model you make.  <strong>QUESTION</strong>: Does anyone in the class find that this is not the case for their model?</p>

<h4>Pattern two (profound).</h4>

<p>The variance of the response variable is the sum of the variance of the fitted model values and the variance of the residuals.  The same is also true of the sum of squares.</p>

<p>Try it on your model:</p>

<pre><code class="r">var(width, data = KidsFeet)
</code></pre>

<pre><code>## [1] 0.2597
</code></pre>

<pre><code class="r">var(fitted(mod)) + var(resid(mod))
</code></pre>

<pre><code>## [1] 0.2597
</code></pre>

<p>Note that this is not (necessarily) true for the standard deviation:</p>

<pre><code class="r">sd(width, data = KidsFeet)
</code></pre>

<pre><code>## [1] 0.5096
</code></pre>

<pre><code class="r">sd(fitted(mod)) + sd(resid(mod))
</code></pre>

<pre><code>## [1] 0.7206
</code></pre>

<p>But it is true for the &ldquo;sum of squares&rdquo;</p>

<pre><code class="r">sum(with(KidsFeet, width^2))
</code></pre>

<pre><code>## [1] 3163
</code></pre>

<pre><code class="r">sum(fitted(mod)^2) + sum(resid(mod)^2)
</code></pre>

<pre><code>## [1] 3163
</code></pre>

<p>In developing an understanding of why this is, you&#39;ll have a tool for understanding what&#39;s going on in complicated models.</p>

<h2>Statistical Geometry</h2>

<h3>Vectors, abstractly</h3>

<ul>
<li>Idea of a vector: length and direction, but not position.</li>
<li>Operations on vectors: addition, scaling, linear combination, length, angle between, projection, extraction of coefficients
*These operations using arithmetic.  Projection of b onto a:   \( a \times \frac{b \cdot a}{a \cdot a} \)</li>
<li>Orthogonality in terms of dot products: when the dot product is zero.  Exer. <a href="http://dl.dropbox.com/u/5098197/Exercises/HTML/ISM-Prob-9.10/ISM-Prob-9.10-A.html%209.10">9.10</a> then <a href="http://dl.dropbox.com/u/5098197/Exercises/HTML/ISM-Prob-9.12/ISM-Prob-9.12-A.html">9.12</a>.</li>
</ul>

<h3>Case Space versus variable space</h3>

<p><img src="https://dl.dropbox.com/u/5098197/ISM/Figures/Adam-and-Eve.png" alt="Adam and Eve picture"/></p>

<ul>
<li><a href="https://dl.dropbox.com/u/5098197/ISM/case-vs-variable-space.pdf">Activity comparing case space and variable space</a></li>
<li>Fitting with one explanatory vector in variable space.  Show that the residual is perpendicular to the model.  The model triangle.</li>
<li>Examples

<ul>
<li>The mean  <code>A ~ 1</code></li>
<li>Line through the origin <code>A ~ B - 1</code>
*Calculations using the computer [Math_155_Activity_on_Statistical_Geometry_and_Computing] &mdash; ask students to build their own models using their own data and confirm this</li>
</ul></li>
<li>The angle between the fitted and residuals</li>
<li>Sums of squares add up in the pythagorean way</li>
</ul>

<h3>Looking forward</h3>

<ul>
<li>R<sup>2</sup> relates to the cosine of the angle between the fitted model values and the response variable &mdash; &#39;&#39;&#39;once the mean is subtracted out&#39;&#39;&#39;</li>
<li><p>How to fit with more than one model vector.  Simpson&#39;s paradox and how it relates to correlations among explanatory variables.</p></li>
<li><p>There&#39;s a linear combination of the indicator variables for a categorical variable that will produce something that is all 1s.  </p></li>
</ul>

</body>

</html>

